{"ast":null,"code":"var _jsxFileName = \"D:\\\\Document\\\\test\\\\project-note\\\\src\\\\components\\\\Agent\\\\index.js\";\nimport React, { useState } from 'react';\nimport \"./Agent.css\";\nimport SendButton from '../Control/SendButton/SendButton';\nimport Chat from './Chat/Chat';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst [messages, setMessages] = useState([]);\nconst [prompt, setPrompt] = useState('');\n// Export handleSubmit function\nexport const handleSubmit = async (event, prompt, setMessages) => {\n  event.preventDefault();\n\n  // Add user message to messages state\n  setMessages([...messages, {\n    role: 'user',\n    content: prompt\n  }]);\n\n  // Clear input field\n  setPrompt('');\n  const outputFormat = \"output để dạng JSON\";\n  try {\n    const response = await fetch('http://localhost:3001/api/generate/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `prompt=${outputFormat}${prompt}`\n    });\n    const data = await response.json();\n    setMessages([...messages, {\n      role: 'assistant',\n      content: data.response\n    }]);\n  } catch (error) {\n    console.error('Error fetching data:', error);\n  }\n};\nconst Agent = () => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Chatbot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Chat, {\n        messages: messages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"chat-area\",\n          children: /*#__PURE__*/_jsxDEV(SendButton, {\n            handleClick: handleSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_c = Agent;\nexport default Agent;\n{/* <input\r\n          type=\"text\"\r\n          name=\"prompt\"\r\n          placeholder=\"Enter your prompt\"\r\n          value={prompt}\r\n          onChange={(e) => setPrompt(e.target.value)}\r\n        /> */}\n{/* <button type=\"submit\">Send</button> */}\n\n// return (\n//   <>\n//   <h1>Chatbot</h1>\n// <div id=\"message-container\">\n//   {messages.map((message, index) => (\n//     <div key={index} className={`message ${message.role}`}>\n//       {message.content}\n//     </div>\n//   ))}\n// </div>\n// <form onSubmit={handleSubmit} className='chat-area'>\n//   <input\n//     type=\"text\"\n//     name=\"prompt\"\n//     placeholder=\"Enter your prompt\"\n//     value={prompt}\n//     onChange={(e) => setPrompt(e.target.value)}\n//   />\n//   <button type=\"submit\">Send</button>\n// </form>\n// </>\n// );\n// reder ở đầu\nvar _c;\n$RefreshReg$(_c, \"Agent\");","map":{"version":3,"names":["React","useState","SendButton","Chat","jsxDEV","_jsxDEV","Fragment","_Fragment","messages","setMessages","prompt","setPrompt","handleSubmit","event","preventDefault","role","content","outputFormat","response","fetch","method","headers","body","data","json","error","console","Agent","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","className","handleClick","_c","$RefreshReg$"],"sources":["D:/Document/test/project-note/src/components/Agent/index.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport \"./Agent.css\";\r\nimport SendButton from '../Control/SendButton/SendButton';\r\nimport Chat from './Chat/Chat';\r\n\r\n\r\nconst [messages, setMessages] = useState([]);\r\nconst [prompt, setPrompt] = useState('');\r\n// Export handleSubmit function\r\nexport const handleSubmit = async (event, prompt, setMessages) => {\r\n    event.preventDefault();\r\n\r\n    // Add user message to messages state\r\n    setMessages([...messages, { role: 'user', content: prompt }]);\r\n\r\n    // Clear input field\r\n    setPrompt('');\r\n    const outputFormat = \"output để dạng JSON\";\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:3001/api/generate/', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n        },\r\n        body: `prompt=${outputFormat}${prompt}`,\r\n      });\r\n      const data = await response.json();\r\n\r\n      setMessages([...messages, { role: 'assistant', content: data.response }]);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n    }\r\n  };\r\n\r\nconst Agent = () => {\r\n\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n\r\n        <h1>Chatbot</h1>\r\n        {/* <div id=\"message-container\">\r\n          {messages.map((message, index) => (\r\n            <div key={index} className={`message ${message.role}`}>\r\n              {message.content}\r\n            </div>\r\n          ))}\r\n        </div> */}\r\n        <Chat messages={messages} />\r\n        <div>\r\n          <form onSubmit={handleSubmit} className='chat-area'>\r\n            <SendButton handleClick={handleSubmit} />\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Agent;\r\n\r\n\r\n\r\n\r\n{/* <input\r\n          type=\"text\"\r\n          name=\"prompt\"\r\n          placeholder=\"Enter your prompt\"\r\n          value={prompt}\r\n          onChange={(e) => setPrompt(e.target.value)}\r\n        /> */}\r\n{/* <button type=\"submit\">Send</button> */ }\r\n\r\n// return (\r\n//   <>\r\n//   <h1>Chatbot</h1>\r\n// <div id=\"message-container\">\r\n//   {messages.map((message, index) => (\r\n//     <div key={index} className={`message ${message.role}`}>\r\n//       {message.content}\r\n//     </div>\r\n//   ))}\r\n// </div>\r\n// <form onSubmit={handleSubmit} className='chat-area'>\r\n//   <input\r\n//     type=\"text\"\r\n//     name=\"prompt\"\r\n//     placeholder=\"Enter your prompt\"\r\n//     value={prompt}\r\n//     onChange={(e) => setPrompt(e.target.value)}\r\n//   />\r\n//   <button type=\"submit\">Send</button>\r\n// </form>\r\n// </>\r\n// );\r\n// reder ở đầu\r\n\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAO,aAAa;AACpB,OAAOC,UAAU,MAAM,kCAAkC;AACzD,OAAOC,IAAI,MAAM,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAG/B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;AAC5C,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;AACxC;AACA,OAAO,MAAMW,YAAY,GAAG,MAAAA,CAAOC,KAAK,EAAEH,MAAM,EAAED,WAAW,KAAK;EAC9DI,KAAK,CAACC,cAAc,CAAC,CAAC;;EAEtB;EACAL,WAAW,CAAC,CAAC,GAAGD,QAAQ,EAAE;IAAEO,IAAI,EAAE,MAAM;IAAEC,OAAO,EAAEN;EAAO,CAAC,CAAC,CAAC;;EAE7D;EACAC,SAAS,CAAC,EAAE,CAAC;EACb,MAAMM,YAAY,GAAG,qBAAqB;EAE1C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,qCAAqC,EAAE;MAClEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAE,UAAUL,YAAY,GAAGP,MAAM;IACvC,CAAC,CAAC;IACF,MAAMa,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;IAElCf,WAAW,CAAC,CAAC,GAAGD,QAAQ,EAAE;MAAEO,IAAI,EAAE,WAAW;MAAEC,OAAO,EAAEO,IAAI,CAACL;IAAS,CAAC,CAAC,CAAC;EAC3E,CAAC,CAAC,OAAOO,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;EAC9C;AACF,CAAC;AAEH,MAAME,KAAK,GAAGA,CAAA,KAAM;EAGlB,oBACEtB,OAAA,CAAAE,SAAA;IAAAqB,QAAA,eACEvB,OAAA;MAAAuB,QAAA,gBAEEvB,OAAA;QAAAuB,QAAA,EAAI;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAQhB3B,OAAA,CAACF,IAAI;QAACK,QAAQ,EAAEA;MAAS;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC5B3B,OAAA;QAAAuB,QAAA,eACEvB,OAAA;UAAM4B,QAAQ,EAAErB,YAAa;UAACsB,SAAS,EAAC,WAAW;UAAAN,QAAA,eACjDvB,OAAA,CAACH,UAAU;YAACiC,WAAW,EAAEvB;UAAa;YAAAiB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC,gBAEN,CAAC;AAEP,CAAC;AAAAI,EAAA,GAzBKT,KAAK;AA2BX,eAAeA,KAAK;AAKpB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,aANC;AAOD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,IAAAS,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}